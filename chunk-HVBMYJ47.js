import{a as oe}from"./chunk-56IKY5DH.js";import{a as ne}from"./chunk-O5IUEWYX.js";import{a as ie}from"./chunk-3FGHHD2R.js";import{c as q,d as K,e as A,f as Q,g as z,k as H,n as J,o as U,q as X,s as Y,t as Z,u as ee}from"./chunk-WXCNIMRR.js";import{a as te}from"./chunk-SX5M3CY2.js";import{d as W,e as R,g as N,r as $,u as j}from"./chunk-IYTWSHJZ.js";import{Cb as D,Db as O,Eb as B,Fb as L,Gb as S,Kb as g,Lb as C,Mb as y,Na as u,Ob as G,Pb as I,Sa as M,Xa as w,ab as b,ba as m,ca as c,hb as a,jb as V,ka as v,kb as k,lb as E,mb as P,nb as r,ob as l,pb as f,qb as F,rb as T,sb as h,vb as x,wb as p,zb as _}from"./chunk-VF5RWILG.js";var pe=["form"],re=n=>({"grid-template-columns":n}),ue=()=>["super admin"];function se(n,d){n&1&&f(0,"app-loader")}function me(n,d){if(n&1){let e=h();r(0,"i",21),x("click",function(){m(e);let i=p().$index,o=p(2);return c(o.deleteInput("regulasiGSEs",i))}),l()}}function ce(n,d){if(n&1){let e=h();F(0),r(1,"app-base-input",17),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.regulasiGSEs[o].name,i)||(s.regulasiGSEs[o].name=i),c(i)}),l(),r(2,"app-base-input",18),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.regulasiGSEs[o].theoryDuration,i)||(s.regulasiGSEs[o].theoryDuration=i),c(i)}),l(),r(3,"app-base-input",19),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.regulasiGSEs[o].practiceDuration,i)||(s.regulasiGSEs[o].practiceDuration=i),c(i)}),l(),b(4,me,1,0,"i",20),T()}if(n&2){let e=d.$index,t=p(2);u(),_("name","reg_gse_",e,""),_("label","",e+1,". Regulasi GSE"),g("ngModel",t.regulasiGSEs[e].name),a("isRequired",!0)("disabled",t.isView),u(),_("name","durasi_teori_",e,""),g("ngModel",t.regulasiGSEs[e].theoryDuration),a("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),_("name","durasi_praktek_",e,""),g("ngModel",t.regulasiGSEs[e].practiceDuration),a("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),a("ngIf",!t.isView)}}function de(n,d){if(n&1){let e=h();r(0,"app-white-button",22),x("whiteButtonClick",function(){m(e);let i=p(2);return c(i.addInput("regulasiGSEs"))}),f(1,"i",23),l()}}function _e(n,d){if(n&1){let e=h();r(0,"i",21),x("click",function(){m(e);let i=p().$index,o=p(2);return c(o.deleteInput("kompetensis",i))}),l()}}function ge(n,d){if(n&1){let e=h();F(0),r(1,"app-base-input",17),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.kompetensis[o].name,i)||(s.kompetensis[o].name=i),c(i)}),l(),r(2,"app-base-input",18),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.kompetensis[o].theoryDuration,i)||(s.kompetensis[o].theoryDuration=i),c(i)}),l(),r(3,"app-base-input",19),y("ngModelChange",function(i){let o=m(e).$index,s=p(2);return C(s.kompetensis[o].practiceDuration,i)||(s.kompetensis[o].practiceDuration=i),c(i)}),l(),b(4,_e,1,0,"i",20),T()}if(n&2){let e=d.$index,t=p(2);u(),_("name","kompetensi_",e,""),_("label","",e+1,". Kompetensi"),g("ngModel",t.kompetensis[e].name),a("isRequired",!0)("disabled",t.isView),u(),_("name","durasi_teori_kompetensi_",e,""),g("ngModel",t.kompetensis[e].theoryDuration),a("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),_("name","durasi_praktek_kompetensi_",e,""),g("ngModel",t.kompetensis[e].practiceDuration),a("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),a("ngIf",!t.isView)}}function Ce(n,d){if(n&1){let e=h();r(0,"app-white-button",22),x("whiteButtonClick",function(){m(e);let i=p(2);return c(i.addInput("kompetensis"))}),f(1,"i",23),l()}}function ye(n,d){if(n&1&&(r(0,"app-blue-button",15),S(1,"Edit"),l()),n&2){let e=p(3);a("routerLink",e.blueButtonRoute)}}function be(n,d){n&1&&b(0,ye,2,1,"app-blue-button",24),n&2&&a("appRoleBasedAccess",G(1,ue))}function fe(n,d){if(n&1&&(r(0,"app-blue-button",16),S(1,"Simpan"),l()),n&2){p();let e=L(3);a("disabled",e.invalid)}}function he(n,d){if(n&1){let e=h();r(0,"div",1),f(1,"app-title",2),r(2,"form",3,0),x("ngSubmit",function(i){m(e);let o=p();return c(o.handleSubmit(i))}),r(4,"div",4)(5,"div",5)(6,"app-base-input",6),y("ngModelChange",function(i){m(e);let o=p();return C(o.capability.ratingCode,i)||(o.capability.ratingCode=i),c(i)}),l()(),r(7,"div",5)(8,"app-base-input",7),y("ngModelChange",function(i){m(e);let o=p();return C(o.capability.trainingName,i)||(o.capability.trainingName=i),c(i)}),l()()(),r(9,"div",8)(10,"div",9)(11,"div",10),E(12,ce,5,18,"ng-container",null,k),l(),r(14,"div",11),b(15,de,2,0,"app-white-button",12),l()(),r(16,"div",5)(17,"div",10),E(18,ge,5,18,"ng-container",null,k),l(),r(20,"div",11),b(21,Ce,2,0,"app-white-button",12),l()()(),r(22,"div",13)(23,"app-white-button",14),S(24,"Kembali"),l(),b(25,be,1,2,"app-blue-button",15)(26,fe,2,1,"app-blue-button",16),l()()()}if(n&2){let e=p();u(),a("pageTitle",e.pageTitle),u(5),g("ngModel",e.capability.ratingCode),a("disabled",!0),u(2),g("ngModel",e.capability.trainingName),a("disabled",!0),u(3),a("ngStyle",I(10,re,e.isView?"50% 22% 22%":"50% 20% 20% 1%")),u(),P(e.regulasiGSEs),u(3),a("ngIf",!e.isView),u(2),a("ngStyle",I(12,re,e.isView?"50% 22% 22%":"50% 20% 20% 1%")),u(),P(e.kompetensis),u(3),a("ngIf",!e.isView),u(4),V(e.isView?25:26)}}var ae=(()=>{class n{constructor(){this.pageTitle="",this.capability={id:"",ratingCode:"",trainingCode:"",trainingName:""},this.regulasiGSEs=[{capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:"Regulasi GSE"}],this.kompetensis=[{capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:"Kompetensi"}],this.isView=!1,this.blueButtonRoute="",this.isLoading=!1,this.formSubmit=new v}handleSubmit(e){e.preventDefault(),this.form.valid&&this.formSubmit.emit()}addInput(e){let t={capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:e==="regulasiGSEs"?"Regulasi GSE":"Kompetensi"};this[e].push(t)}deleteInput(e,t){this[e].splice(t,1)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-curriculum-syllabus-form"]],viewQuery:function(t,i){if(t&1&&D(pe,5),t&2){let o;O(o=B())&&(i.form=o.first)}},inputs:{pageTitle:"pageTitle",capability:"capability",regulasiGSEs:"regulasiGSEs",kompetensis:"kompetensis",isView:"isView",blueButtonRoute:"blueButtonRoute",isLoading:"isLoading"},outputs:{formSubmit:"formSubmit"},decls:3,vars:1,consts:[["form","ngForm"],[1,"container"],[3,"pageTitle"],[3,"ngSubmit"],[1,"top-form-container"],[1,"form-section"],["label","Kode Rating","name","kodeRating","autocomplete","off",3,"ngModelChange","ngModel","disabled"],["label","Nama Training","type","text","name","namaTraining","autocomplete","name",3,"ngModelChange","ngModel","disabled"],[1,"bottom-form-container"],["id","reg-gse",1,"form-section"],[1,"input-group",3,"ngStyle"],[1,"add-form-button-container"],["type","button",3,"whiteButtonClick",4,"ngIf"],[1,"buttons-container"],["type","button","routerLink","/capability",1,"button"],["type","button",1,"button",3,"routerLink"],["type","submit",1,"button",3,"disabled"],["type","text","required","","autocomplete","off",3,"ngModelChange","ngModel","name","label","isRequired","disabled"],["label","Durasi Teori","type","text","inputMode","tel","pattern","^[0-9]+$",1,"duration",3,"ngModelChange","ngModel","name","disabled","restrictToPattern"],["label","Durasi Praktik","type","text","inputMode","tel","pattern","^[0-9]+$",1,"duration",3,"ngModelChange","ngModel","name","disabled","restrictToPattern"],["class","fa-solid fa-trash-can delete-button",3,"click",4,"ngIf"],[1,"fa-solid","fa-trash-can","delete-button",3,"click"],["type","button",3,"whiteButtonClick"],[1,"fa-solid","fa-plus"],["type","button","class","button",3,"routerLink",4,"appRoleBasedAccess"]],template:function(t,i){t&1&&(f(0,"app-header"),b(1,se,1,0,"app-loader")(2,he,27,14,"div",1)),t&2&&(u(),V(i.isLoading?1:2))},dependencies:[X,Z,ee,Y,U,z,q,K,H,J,Q,A,N,W,R,j,ie,te,ne],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:2em;padding:2em}form[_ngcontent-%COMP%]{background:#fff;padding:2em;border:1px solid #e0e0e0;border-radius:8px;width:100%;margin:25px auto}.top-form-container[_ngcontent-%COMP%], .bottom-form-container[_ngcontent-%COMP%]{width:100%;display:flex}.top-form-container[_ngcontent-%COMP%]{gap:30%}.bottom-form-container[_ngcontent-%COMP%]{gap:1%}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:20px}.input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% 20%;gap:1em}#reg-gse[_ngcontent-%COMP%]{border-right:5px double grey}.add-form-button-container[_ngcontent-%COMP%]{display:flex;justify-content:end;width:100%}.add-form-button-container[_ngcontent-%COMP%]   app-white-button[_ngcontent-%COMP%]{width:125px;margin-right:50px}i[_ngcontent-%COMP%]{cursor:pointer;font-size:25px}.delete-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px}.delete-button[_ngcontent-%COMP%]{color:red}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4em;width:100%;margin-top:2em}.button[_ngcontent-%COMP%]{width:190px;height:45px}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:2em 1em}form[_ngcontent-%COMP%]{padding:1em}.top-form-container[_ngcontent-%COMP%], .bottom-form-container[_ngcontent-%COMP%]{flex-direction:column;gap:1em}.top-form-container[_ngcontent-%COMP%]{gap:0}.bottom-form-container[_ngcontent-%COMP%]{margin-top:2em}.form-section[_ngcontent-%COMP%]{width:100%;gap:15px}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}.duration[_ngcontent-%COMP%]{width:50%;margin-right:0;margin-left:auto}#reg-gse[_ngcontent-%COMP%]{border-right:none;border-bottom:5px double grey;padding-bottom:1em}.add-form-button-container[_ngcontent-%COMP%]{justify-content:end;padding-right:0;padding-left:auto;margin-top:1em}i[_ngcontent-%COMP%]{font-size:20px}.delete-button[_ngcontent-%COMP%]{margin-right:0;margin-left:auto}.buttons-container[_ngcontent-%COMP%]{flex-direction:column;gap:1em;margin-top:1.5em}.button[_ngcontent-%COMP%]{width:100%;height:50px}}"]})}}return n})();var je=(()=>{class n{constructor(e,t){this.route=e,this.capabilityService=t,this.capability={id:"",ratingCode:"",trainingCode:"",trainingName:""},this.regulasiGSEs=[{capabilityId:"",name:"",theoryDuration:0,practiceDuration:0,type:""}],this.kompetensis=[{capabilityId:"",name:"",theoryDuration:0,practiceDuration:0,type:""}],this.editLink="",this.isLoading=!1,this.id=this.route.snapshot.paramMap.get("capabilityId")}ngOnInit(){this.getCapabilityById()}getCapabilityById(){this.id&&(this.isLoading=!0,this.editLink=`/curriculum-syllabus/${this.id}/edit`,this.capabilityService.getCurriculumSyllabus(this.id).subscribe({next:({data:e})=>{this.capability={id:e.id,ratingCode:e.ratingCode,trainingCode:e.trainingCode,trainingName:e.trainingName},this.regulasiGSEs=e.curriculumSyllabus.filter(t=>t.type==="Regulasi GSE").map(t=>({capabilityId:t.capabilityId,name:t.name,theoryDuration:t.theoryDuration,practiceDuration:t.practiceDuration,type:t.type})),this.kompetensis=e.curriculumSyllabus.filter(t=>t.type==="Kompetensi").map(t=>({capabilityId:t.capabilityId,name:t.name,theoryDuration:t.theoryDuration,practiceDuration:t.practiceDuration,type:t.type}))},error:e=>{console.log(e),this.isLoading=!1},complete:()=>{this.isLoading=!1}}))}static{this.\u0275fac=function(t){return new(t||n)(M($),M(oe))}}static{this.\u0275cmp=w({type:n,selectors:[["app-view-curriculum-syllabus"]],decls:1,vars:7,consts:[[3,"pageTitle","capability","regulasiGSEs","kompetensis","isView","blueButtonRoute","isLoading"]],template:function(t,i){t&1&&f(0,"app-curriculum-syllabus-form",0),t&2&&a("pageTitle","View Curriculum & Syllabus")("capability",i.capability)("regulasiGSEs",i.regulasiGSEs)("kompetensis",i.kompetensis)("isView",!0)("blueButtonRoute",i.editLink)("isLoading",i.isLoading)},dependencies:[ae],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:50vh}"]})}}return n})();export{ae as a,je as b};
