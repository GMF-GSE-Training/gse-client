import{A as o}from"./chunk-V6IZ7FS4.js";import{R as l,W as c}from"./chunk-NQSGFRSF.js";var f=(()=>{class t{constructor(e){this.sweetalertService=e}alertError(e,r){let a=e?.error?.errors,i=e?.error?.message||e?.message,s=e?.status;if(i&&(i.includes("ETIMEDOUT")||i.includes("ECONNREFUSED")||i.includes("ESOCKET")||i.includes("connect"))){this.sweetalertService.alert("Berhasil","Operasi berhasil dilakukan. Link verifikasi akan dikirim ke email Anda.","success");return}if(s)switch(s){case 400:this.sweetalertService.alert("Gagal!","Data tidak valid, periksa input Anda.","error");return;case 409:this.sweetalertService.alert("Gagal!","Jadwal bertabrakan, silakan pilih waktu lain.","error");return;case 404:this.sweetalertService.alert("Gagal!","Data tidak ditemukan.","error");return;case 500:this.sweetalertService.alert("Gagal!","Kesalahan server, silakan coba lagi nanti.","error");return}if(this.isObject(a)||Array.isArray(a)){let n=this.formatErrors(a);this.hasRequiredFields(a,r||[])?this.sweetalertService.alert("Gagal!","Kolom dengan tanda bintang (*) wajib diisi","error"):n&&this.sweetalertService.alert("Gagal!",n,"error")}else typeof a=="string"?this.sweetalertService.alert("Gagal!",a,"error"):this.sweetalertService.alert("Gagal!","Terjadi kesalahan, silakan coba lagi nanti.","error")}getErrorMessage(e,r){let a=e?.error?.errors,i=e?.error?.message||e?.message,s=e?.status;if(i&&(i.includes("ETIMEDOUT")||i.includes("ECONNREFUSED")||i.includes("ESOCKET")||i.includes("connect")))return"Register berhasil, link verifikasi akan dikirim ke email Anda";if(s)switch(s){case 400:return"Data tidak valid, periksa input Anda.";case 409:return"Jadwal bertabrakan, silakan pilih waktu lain.";case 404:return"Data tidak ditemukan.";case 500:return"Kesalahan server, silakan coba lagi nanti."}if(this.isObject(a)||Array.isArray(a)){let n=this.formatErrors(a);if(n)return n;if(this.hasRequiredFields(a,r||[]))return"Kolom dengan tanda bintang (*) wajib diisi"}else if(typeof a=="string")return a;return"Terjadi kesalahan, silakan coba lagi nanti."}formatErrors(e){return Array.isArray(e)?e.map(r=>r.field&&Array.isArray(r.messages)?`${r.field}: ${r.messages.join(", ")}`:r).filter(Boolean).join(`
`):this.isObject(e)?Object.entries(e).map(([r,a])=>`${r}: ${Array.isArray(a)?a.join(", "):a}`).join(`
`):null}hasRequiredFields(e,r){return!this.isObject(e)||r.length===0?!1:r.some(a=>e[a])}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}static{this.\u0275fac=function(r){return new(r||t)(c(o))}}static{this.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{f as a};
