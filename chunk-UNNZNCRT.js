import{A as c}from"./chunk-FVP7M3JJ.js";import{R as l,W as u}from"./chunk-NQSGFRSF.js";var b=(()=>{class i{constructor(e){this.sweetalertService=e}alertError(e,r){let a=e?.error?.errors,t=e?.error?.message||e?.message,s=e?.status;if(t&&(t.includes("ETIMEDOUT")||t.includes("ECONNREFUSED")||t.includes("ESOCKET")||t.includes("connect"))){this.sweetalertService.alert("Berhasil","Operasi berhasil dilakukan. Link verifikasi akan dikirim ke email Anda.","success");return}if(s)switch(s){case 400:this.sweetalertService.alert("Pemberitahuan","Data tidak valid, periksa input Anda.","error");return;case 409:this.sweetalertService.alert("Pemberitahuan","Jadwal bertabrakan, silakan pilih waktu lain.","error");return;case 404:this.sweetalertService.alert("Pemberitahuan","Data tidak ditemukan.","error");return;case 500:this.sweetalertService.alert("Pemberitahuan","Server sedang sibuk atau terjadi gangguan. Silakan coba beberapa saat lagi.","error");return}if(this.isObject(a)||Array.isArray(a)){let n=this.formatErrors(a);this.hasRequiredFields(a,r||[])?this.sweetalertService.alert("Pemberitahuan","Kolom dengan tanda bintang (*) wajib diisi","error"):n&&this.sweetalertService.alert("Pemberitahuan",n,"error")}else typeof a=="string"?this.sweetalertService.alert("Pemberitahuan",a,"error"):this.sweetalertService.alert("Pemberitahuan","Server sedang sibuk atau terjadi gangguan. Silakan coba beberapa saat lagi.","error")}getErrorMessage(e,r){let a=e?.error?.errors,t=e?.error?.message||e?.message,s=e?.status;if(t&&(t.includes("ETIMEDOUT")||t.includes("ECONNREFUSED")||t.includes("ESOCKET")||t.includes("connect")))return"Register berhasil, link verifikasi akan dikirim ke email Anda";if(s)switch(s){case 400:return"Data tidak valid, periksa input Anda.";case 409:return"Jadwal bertabrakan, silakan pilih waktu lain.";case 404:return"Data tidak ditemukan.";case 500:return"Server sedang sibuk atau terjadi gangguan. Silakan coba beberapa saat lagi."}if(this.isObject(a)||Array.isArray(a)){let n=this.formatErrors(a);if(n)return n;if(this.hasRequiredFields(a,r||[]))return"Kolom dengan tanda bintang (*) wajib diisi"}else if(typeof a=="string")return a;return"Server sedang sibuk atau terjadi gangguan. Silakan coba beberapa saat lagi."}formatErrors(e){return Array.isArray(e)?e.map(r=>r.field&&Array.isArray(r.messages)?`${r.field}: ${r.messages.join(", ")}`:r).filter(Boolean).join(`
`):this.isObject(e)?Object.entries(e).map(([r,a])=>`${r}: ${Array.isArray(a)?a.join(", "):a}`).join(`
`):null}hasRequiredFields(e,r){return!this.isObject(e)||r.length===0?!1:r.some(a=>e[a])}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}static{this.\u0275fac=function(r){return new(r||i)(u(c))}}static{this.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{b as a};
